(e=>{switch(e.hostname){case"localhost":return;default:"https:"!==e.protocol&&(e.href=`https://${e.host}${e.pathname}${e.search}`)}})(window.location),window.localizedRoutes=["illustrations","character-design","animals","black-and-white","contact"],(e=>{if(!e.search)return;let t;try{t=Object.fromEntries(e.search.slice(1).split("&").map(e=>e.split("=")))}catch(t){e.href=`${e.protocol}//${e.host}${e.pathname}?page=illustrations`}if(t.page&&window.localizedRoutes.includes(t.page))return;t.page={highlights:"illustrations"}[t.page]||"illustrations";let a=Object.entries(t).map(([e,t])=>t?`${e}=${t}`:"").join("&");e.href=`${e.protocol}//${e.host}${e.pathname}${a?`?${a}`:""}`})(window.location);class Aggregate{constructor(e){this.nodes=[...e]}click(e){this.nodes.forEach(t=>{t.addEventListener("click",()=>{e(t)})})}addClass(e){this.nodes.forEach(t=>{t.classList.add(e)})}removeClass(e){this.nodes.forEach(t=>{t.classList.remove(e)})}toggleClass(e){this.nodes.forEach(t=>{t.classList.contains(e)?t.classList.remove(e):t.classList.add(e)})}}function selectTab(e){$$("nav li").removeClass("active"),$$(`nav li[name=${e}]`).addClass("active");let t=document.querySelector(`nav li[name=${e}]`).innerText.trim();document.title=`McKenzie Rose Studio | ${t}`}function conditionalRender(e,t){SITE.cache[t]?document.querySelector("main").innerHTML=SITE.cache[t]:SITE.cache[t]=renderImages(e[t],t)}function conditionalStaticPageRender(e){SITE.cache[e]?document.querySelector("main").innerHTML=SITE.cache[e]:SITE.fetchTEXT(`${SITE.paths.html}${e}.html`).then(t=>(SITE.cache[e]=t,t)).then(renderStaticPage)}function render(e){let t=getPage();switch(selectTab(t),t){case"contact":case"character-design":conditionalStaticPageRender(t);break;default:conditionalRender(e,t)}gtag&&gtag("config","UA-136826563-1",{page_title:t,page_path:location.pathname+location.search})}function getPage(){return SITE.nav.getActivePage()}function renderStaticPage(e){document.querySelector("main").innerHTML=e}window.$$=(e=>new Aggregate(document.querySelectorAll(e))),(e=>{if(e.SITE)return;let t={fetchJSON:(...t)=>(console.log("FETCHING JSON DATA"),e.fetch(...t).then(e=>e.json())),fetchTEXT:(...t)=>(console.log("FETCHING HTML",t),e.fetch(...t).then(e=>e.text())),paths:{images:"./assets/images/",html:"./assets/html/"},nav:{}};t.nav.getActivePage=(()=>{if(e.location.search)return new URL(e.location.href).searchParams.get("page");t.nav.goto("illustrations",!0)}),t.nav.goto=((a,n=!1)=>{a&&(n&&(e.location="/?page="+a),t.nav.routes.includes(a)?(e.history.pushState({page:a},a,"/?page="+a),render(e.SITE.assets)):t.nav.externalRoutes[a]?(e.open(t.nav.externalRoutes[a]),gtag&&gtag("config","UA-136826563-1",{page_title:a,page_path:`/:goto:/${a}`})):(gtag&&gtag("config","UA-136826563-1",{page_title:"UNKNOWN_PAGE:"+a,page_path:`/:goto:/${a}`}),t.nav.goto("illustrations")))}),t.nav.routes=e.localizedRoutes,t.nav.externalRoutes={etsy:"https://www.etsy.com/shop/McKenzieRoseDesign",instagram:"https://www.instagram.com/mckenzierose_studio/"},e.addEventListener("popstate",t=>{t.state.page&&render(e.SITE.assets)}),t.cache={},t.clearCache=(()=>{t.cache={}}),t.trackMediaClick=(e=>{let t=e.name;gtag&&gtag("config","UA-136826563-1",{page_title:t,page_path:`/:goto:/${t}?via=contact`})}),e.SITE=t})(window);const humanReadable=e=>e.replace(/-/g," ").split(" ").map(e=>e[0].toUpperCase()+e.substr(1)).join(" ");function renderImages(e,t,a="main"){console.log(`renderImages: calculating renderables for '${t}'`);let n='<div class="masonry">';return e.forEach(e=>{let[a]=e.split("."),s=`${humanReadable(window.getPage())}: ${humanReadable(a)}`;n+=`<div class="brick"><img alt="${s}" src="${SITE.assets.meta.minPaths[t]}/${e}" tabindex="0"></div>`}),n+="</div>",document.querySelector(a).innerHTML=n,n}